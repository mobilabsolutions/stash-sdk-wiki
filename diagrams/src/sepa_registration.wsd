@startuml sepa_registration

!include ../skin.wsd

title Sepa Registration

actor "Customer / SDK" as User
control "MobiLab Backend" as MBE
entity "Payment Provider (PSP)" as PSP

User -> MBE: Prepare Registration
MBE -> User: URL 
User -> PSP: IBAN, and Account Data
PSP -> User: Alias

User -> MBE: Alias
MBE -> PSP: GetMandat
PSP -> MBE: Mandat
MBE -> User: JWT (Wrapped Alias, Mandat)

@enduml